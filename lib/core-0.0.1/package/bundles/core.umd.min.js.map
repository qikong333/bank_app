{"version":3,"sources":["ng://core/lib/core.service.ts","ng://core/lib/core.component.ts","ng://core/lib/core.module.ts","ng://core/lib/config.service.ts","ng://core/lib/startup.service.ts","null","ng://core/lib/services/CCore.ts","ng://core/lib/services/BaseManager.ts","ng://core/lib/services/MemberManager.ts"],"names":["CoreService","Injectable","args","providedIn","CoreComponent","prototype","ngOnInit","Component","selector","template","styles","CoreModule","NgModule","imports","declarations","exports","ConfigService","setApiBase","apiBase","this","_apiBase","getApiBase","setWsUrl","wsUrl","_wsUrl","getWsUrl","StartupService","httpClient","configService","loadBaseConfig","_this","Promise","resolve","reject","get","subscribe","res","err","HttpClient","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__awaiter","thisArg","_arguments","P","generator","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","CCore","loadingCtrl","toastCtrl","platform","alertCtrl","storage","setHost","host","set","getHost","setCurrentMember","member","JSON","stringify","getCurrentMember","setMenus","menus","getMenus","setCurrentPassword","getCurrentPassword","isNull","obj","undefined","fail","ret","hasNode","datas","id","i","ID","hasObj","objs","loading","content","option","showBackdrop","create","_a","present","alert","title","subtitle","header","subHeader","buttons","confirm","ok","cancle","message","text","role","handler","toast","duration","writeEpc","epc","is","window","messageHandlers","scan","postMessage","scanc","flag","scanFromObj","getTid","getEpcs","startRead","setPower","transDate","date","Date","day","getDate","monthIndex","getMonth","year","getFullYear","getMinutes","getHours","getSeconds","getNow","minutes","getNowDate","month","myFormattedDate","getLastYearDate","isScanSubmit","isScanCancel","isScanCode","isNextPage","isScanAdd","isIncreasePower","isReducedPower","scrollTo","printCode","yOffset","document","getElementById","offsetTop","setHostToStorage","url","localStorage","setItem","getHostByStorage","getItem","validateDomain","test","validateIp4","getDictName","arr","changePower","direction","module","powerPosition","powerArray","power","msg","LoadingController","ToastController","Platform","AlertController","Storage","environment","BaseManager","http","cCore","new","list","_d","_b","__values","o","m","tslib_1.__values","keys","_c","field","indexOf","replace","page","param","post","getPathByEntityName","save","getBy","delete","has","sum","count","getEntityName","toLowerCase","constructor","name","withCredentials","toPromise","catch","status","MemberManager","_super","__extends","__","tslib_1.__extends","login","username","password","getMyDepartmentMembers","code","changePassword","params","quickLogin","getMyupDepartment","memberID"],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CoreService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-core',\n  template: `\n    <p>\n      core works!\n    </p>\n  `,\n  styles: []\n})\nexport class CoreComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CoreComponent } from './core.component';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [CoreComponent],\n  exports: [CoreComponent]\n})\nexport class CoreModule { }\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ConfigService {\r\n  private _apiBase: string;\r\n  private _wsUrl : string;\r\n\r\n  constructor() {}\r\n\r\n  public setApiBase(apiBase): void {\r\n    this._apiBase = apiBase;\r\n  }\r\n\r\n  public getApiBase(): string {\r\n    return this._apiBase;\r\n  }\r\n\r\n  public setWsUrl(wsUrl): void {\r\n    this._wsUrl = wsUrl;\r\n  }\r\n\r\n  public getWsUrl(): string {\r\n    return this._wsUrl;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { ConfigService } from './config.service';\r\n\r\nconst ROOT_CONFIG = './assets/json/config.json';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class StartupService {\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n    private configService: ConfigService\r\n  ) {}\r\n\r\n  loadBaseConfig(): Promise<any> {\r\n    return new Promise((resolve, reject) => {\r\n      this.httpClient.get(ROOT_CONFIG).subscribe(\r\n        (res: any) => {\r\n          this.configService.setApiBase(res.apiBase);\r\n          this.configService.setWsUrl(res.wsUrl);\r\n          resolve(res);\r\n        },\r\n        (err: any) => {\r\n          resolve(null);\r\n        }\r\n      );\r\n    });\r\n  }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Platform, AlertController, ToastController, LoadingController } from '@ionic/angular';\r\nimport { Storage } from '@ionic/storage';\r\n@Injectable()\r\nexport class CCore {\r\n    constructor(\r\n        private loadingCtrl: LoadingController,\r\n        private toastCtrl: ToastController,\r\n        public platform: Platform,\r\n        private alertCtrl: AlertController,\r\n        public storage: Storage\r\n    ) { }\r\n    public setHost(host) {\r\n        this.storage.set('Host', host);\r\n    }\r\n    public getHost() {\r\n        return this.storage.get('Host');\r\n    }\r\n    public setCurrentMember(member) {\r\n        this.storage.set('currentMember', JSON.stringify(member));\r\n    }\r\n    public getCurrentMember() {\r\n        return this.storage.get('currentMember');\r\n    }\r\n    public setMenus (menus) {\r\n        this.storage.set('menus', JSON.stringify(menus));\r\n    }\r\n    public getMenus () {\r\n        return this.storage.get('menus');\r\n    }\r\n\r\n\r\n    public setCurrentPassword(member) {\r\n        this.storage.set('currentPassword', JSON.stringify(member));\r\n    }\r\n    public getCurrentPassword() {\r\n        return this.storage.get('currentPassword');\r\n    }\r\n    isNull(obj) {\r\n        if (obj == \"\" || obj == null || obj == undefined || obj == \"[]\" || obj == [] || obj == 'function String() { [native code] }') {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    fail(ret) {\r\n        if (ret['code'] == 0) {\r\n            // this.alert(ret['msg']);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    hasNode(datas, id) {\r\n        for (let i = 0; i < datas.length; i++) {\r\n            if (id == datas[i].ID) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    hasObj(objs, obj) {\r\n        for (let i = 0; i < objs.length; i++) {\r\n            if (objs[i]['ID'] == obj['ID']) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    async loading(content: string) {\r\n        let option = {\r\n            content: content,\r\n            showBackdrop: true\r\n        };\r\n        const loading = await this.loadingCtrl.create(option);\r\n        return await loading.present();\r\n    }\r\n\r\n    async alert(title: string, subtitle: string = '') {\r\n        const alert = await this.alertCtrl.create({\r\n            header: title,\r\n            subHeader: subtitle,\r\n            buttons: ['ç¡®å®']\r\n        });\r\n\r\n        await alert.present();\r\n    }\r\n\r\n\r\n    public confirm(title: string, ok: Function, cancle: Function = () => { }, message: string = '') {\r\n        return this.alertCtrl.create({\r\n            header: title,\r\n            message: message,\r\n            buttons: [\r\n                {\r\n                    text: 'åæ¶',\r\n                    role: 'cancel',\r\n                    handler: () => {\r\n                        cancle()\r\n                    }\r\n                },\r\n                {\r\n                    text: 'ç¡®å®',\r\n                    handler: () => {\r\n                        ok()\r\n                    }\r\n                }\r\n            ]\r\n        })\r\n    }\r\n\r\n\r\n    async toast(message: string, duration: number = 1000) {\r\n        const toast = await this.toastCtrl.create({\r\n            message: message,\r\n            duration: duration\r\n        });\r\n        toast.present();\r\n    }\r\n\r\n    writeEpc(epc: string) {\r\n        //alert(epc)\r\n        if (this.platform.is('ios') || this.platform.is('ipad') || this.platform.is('iphone')) {\r\n            window[\"webkit\"].messageHandlers.scan.postMessage();\r\n        }\r\n        if (this.platform.is('android')) {\r\n            window[\"CNative\"].writeEpc(epc);\r\n        }\r\n    }\r\n    //æ«æ\r\n    scanc(flag, scanFromObj: string) {\r\n        if (this.platform.is('ios') || this.platform.is('ipad') || this.platform.is('iphone')) {\r\n            window[\"webkit\"].messageHandlers.scan.postMessage();\r\n        }\r\n        if (this.platform.is('android')) {\r\n            window[\"CNative\"].scan(flag, scanFromObj);\r\n        }\r\n    }\r\n    scan(flag) {\r\n        if (this.platform.is('ios') || this.platform.is('ipad') || this.platform.is('iphone')) {\r\n            window[\"webkit\"].messageHandlers.scan.postMessage();\r\n        }\r\n        if (this.platform.is('android')) {\r\n            window[\"CNative\"].scan(flag);\r\n        }\r\n    }\r\n    getTid() {\r\n        if (this.platform.is('ios') || this.platform.is('ipad') || this.platform.is('iphone')) {\r\n            window[\"webkit\"].messageHandlers.getTid.postMessage();\r\n        }\r\n        if (this.platform.is('android')) {\r\n            return window[\"CNative\"].getTid();\r\n        }\r\n    }\r\n    getEpcs() {\r\n        if (this.platform.is('ios') || this.platform.is('ipad') || this.platform.is('iphone')) {\r\n            window[\"webkit\"].messageHandlers.getEpcs.postMessage();\r\n        }\r\n        if (this.platform.is('android')) {\r\n            return window[\"CNative\"].getEpcs();\r\n        }\r\n    }\r\n\r\n    startRead(flag: string) {\r\n        if (this.platform.is('ios') || this.platform.is('ipad') || this.platform.is('iphone')) {\r\n            window[\"webkit\"].messageHandlers.startRead.postMessage();\r\n        }\r\n        if (this.platform.is('android')) {\r\n            return window[\"CNative\"].startRead(flag);\r\n        }\r\n    }\r\n    setPower(flag: number) {\r\n        if (this.platform.is('ios') || this.platform.is('ipad') || this.platform.is('iphone')) {\r\n            window[\"webkit\"].messageHandlers.setPower.postMessage();\r\n        }\r\n        if (this.platform.is('android')) {\r\n            return window[\"CNative\"].setPower(flag);\r\n        }\r\n    }\r\n\r\n    transDate(t) {\r\n        var date = new Date(t);\r\n        var day = date.getDate();\r\n        var monthIndex = date.getMonth();\r\n        var year = date.getFullYear();\r\n        var minutes = date.getMinutes();\r\n        var hours = date.getHours();\r\n        var seconds = date.getSeconds();\r\n        var myFormattedDate = year + \"-\" + (monthIndex + 1) + \"-\" + day;\r\n        return myFormattedDate;\r\n    }\r\n\r\n\r\n    getNow() {\r\n        var date = new Date();\r\n        var day = date.getDate();\r\n        var monthIndex = date.getMonth();\r\n        var year = date.getFullYear();\r\n        var minutes = date.getMinutes();\r\n        var hours = date.getHours();\r\n        var seconds = date.getSeconds();\r\n        var myFormattedDate = year + \"-\" + (monthIndex + 1) + \"-\" + day + \" \" + hours + \":\" + minutes + \":\" + seconds;\r\n        return myFormattedDate;\r\n    }\r\n\r\n    getNowDate() {\r\n        var date = new Date();\r\n        var day = date.getDate();\r\n        var month = date.getMonth() + 1;\r\n        var year = date.getFullYear();\r\n        if (month < 10) {\r\n            var myFormattedDate = year + \"-\" + \"0\" + month + \"-\" + day;\r\n        } else {\r\n            var myFormattedDate = year + \"-\" + month + \"-\" + day;\r\n        }\r\n        return myFormattedDate;\r\n    }\r\n\r\n    getLastYearDate() {\r\n        var date = new Date();\r\n        var day = date.getDate();\r\n        var month = date.getMonth() + 1;\r\n        var year = date.getFullYear() - 1;\r\n        if (month < 10) {\r\n            var myFormattedDate = year + \"-\" + \"0\" + month + \"-\" + day;\r\n        } else {\r\n            var myFormattedDate = year + \"-\" + month + \"-\" + day;\r\n        }\r\n        return myFormattedDate;\r\n    }\r\n\r\n    isScanSubmit(value) {\r\n        if (value == 'btn_submit') {\r\n            return true\r\n        }\r\n        return false;\r\n    }\r\n    isScanCancel(value) {\r\n        if (value == 'btn_cancel') {\r\n            return true\r\n        }\r\n        return false;\r\n    }\r\n    isScanCode(value) {\r\n        if (value != 'btn_submit' && value != 'btn_cancel' && value != \"btn_increase_power\" && value != \"btn_reduced_power\") {\r\n            return true\r\n        }\r\n        return false;\r\n    }\r\n    isNextPage(value) {\r\n        if (value == \"btn_next_page\") {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    isScanAdd(value) {\r\n        if (value == \"btn_add\") {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    isIncreasePower(value) {\r\n        if (value == \"btn_increase_power\") {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    isReducedPower(value) {\r\n        if (value == \"btn_reduced_power\") {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    scrollTo(printCode, content) {\r\n        let yOffset = document.getElementById(printCode).offsetTop;\r\n        content.scrollTo(0, yOffset, 300);\r\n    }\r\n\r\n    /**\r\n     * è®¾ç½®æå¡å¨å°åå°ç¼å­\r\n     * @param url\r\n     */\r\n    setHostToStorage(url) {\r\n        localStorage.setItem('hostUrl', url);\r\n    }\r\n\r\n    /**\r\n     * ä»ç¼å­è·åæå¡å¨å°å\r\n     */\r\n    getHostByStorage() {\r\n        return localStorage.getItem('hostUrl') || '';\r\n    }\r\n\r\n    /**\r\n     * ååæ ¡éª\r\n     * @param value\r\n     */\r\n    validateDomain(value) {\r\n        let regx = /[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\\.?/;\r\n        return regx.test(value);\r\n    }\r\n\r\n    /**\r\n     * IPå°åæ ¡éª\r\n     * @param value\r\n     */\r\n    validateIp4(value) {\r\n        let regx = /^((25[0-5]|2[0-4]\\d|[01]?\\d\\d?)($|(?!\\.$)\\.)){4}$/;\r\n        return regx.test(value);\r\n    }\r\n\r\n    getDictName(id, arr) {\r\n        for (let i = 0; i < arr.length; i++) {\r\n            if (id == arr[i]['ID']) {\r\n                return arr[i]['name'];\r\n            }\r\n        }\r\n    }\r\n    changePower(direction, module) {\r\n        var powerPosition: number = 15;\r\n\r\n        this.storage.get(module + \"Power\").then(res => {\r\n            if (!this.isNull(res)) {\r\n                powerPosition = res;\r\n            }\r\n\r\n            if (this.isIncreasePower(direction)) {\r\n                if (powerPosition > 20) {\r\n                    this.toast(\"åçå·²è®¾å®å°æå¤§å¼\");\r\n                } else {\r\n                    powerPosition = powerPosition + 5;\r\n                }\r\n            }\r\n\r\n            if (this.isReducedPower(direction)) {\r\n                if (powerPosition < 15) {\r\n                    this.toast(\"åçå·²è®¾å®å°æå°å¼\");\r\n                } else {\r\n                    powerPosition = powerPosition - 5;\r\n                }\r\n            }\r\n\r\n            var powerArray = [{ \"power\": 10, \"msg\": \"å½åä¸ºå°åç\" }, { \"power\": 15, \"msg\": \"å½åä¸ºä¸­åç\" }, { \"power\": 20, \"msg\": \"å½åä¸ºå¤§åç\" }, { \"power\": 25, \"msg\": \"å½åä¸ºç¹å¤§åç\" }]\r\n            for (let i = 0; i < powerArray.length; i++) {\r\n                if (powerPosition == powerArray[i]['power']) {\r\n                    this.toast(powerArray[i]['msg']);\r\n                }\r\n            }\r\n            this.setPower(powerPosition);\r\n            this.storage.set(module + \"Power\", powerPosition);\r\n        });\r\n\r\n    }\r\n}\r\n\r\n","import { CCore } from './CCore';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport {ConfigService} from \"../config.service\";\r\n\r\nexport const environment = {\r\n    apiBase: 'http://bank.532t.com'\r\n};\r\n\r\n@Injectable()\r\nexport class BaseManager {\r\n    // private baseurl = this.configService.getApiBase() + '/service/';\r\n\r\n    constructor(public http: HttpClient,public cCore: CCore, public configService: ConfigService) {\r\n    }\r\n    async new() {\r\n        let ret = await this.list({ id: '-1' });\r\n        for (const field of Object.keys(ret['data'])) {\r\n            if (field.indexOf('ID') != -1) {\r\n                ret['data'][field] = ret['data'][field] || '';\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    getWsUrl() {\r\n        var baseurl = (localStorage.getItem('hostUrl') || environment.apiBase);\r\n        return \"ws://\" + baseurl.replace(\"http://\", \"\") + \":8089/android\";\r\n    }\r\n\r\n    page(param) {\r\n        return this.post(this.getPathByEntityName() + \"/page\", param);\r\n    }\r\n    save(param) {\r\n        return this.post(this.getPathByEntityName() + \"/save\", param);\r\n    }\r\n    get(param) {\r\n        return this.post(this.getPathByEntityName() + \"/get\", { 'id': param });\r\n    }\r\n    getBy(param) {\r\n        return this.post(this.getPathByEntityName() + \"/getby\", param);\r\n    }\r\n    list(param) {\r\n        return this.post(this.getPathByEntityName() + \"/list\", param);\r\n    }\r\n    delete(param) {\r\n        return this.post(this.getPathByEntityName() + \"/delete\", { \"id\": param });\r\n    }\r\n    has(param) {\r\n        return this.post(this.getPathByEntityName() + \"/has\", param);\r\n    }\r\n    sum(param) {\r\n        return this.post(this.getPathByEntityName() + \"/sum\", param);\r\n    }\r\n    count(param) {\r\n        return this.post(this.getPathByEntityName() + \"/count\", param);\r\n    }\r\n    getPathByEntityName() {\r\n        return this.getEntityName().toLowerCase();\r\n    }\r\n\r\n    getEntityName() {\r\n        return this.constructor.name.replace(\"Manager\", \"\");\r\n    }\r\n\r\n    public post(url: string, body: object, loading: boolean = false): Promise<any> {\r\n        url = this.configService.getApiBase() + '/service/' + url;\r\n        return this.http.post(url, body, { withCredentials: true }).toPromise().then(res => {\r\n            return res;\r\n        }).catch(err => {\r\n            switch (err.status) {\r\n                case 400:\r\n                    this.cCore.toast('è¯·æ±åæ°éè¯¯ï¼');\r\n                    break;\r\n                case 401:\r\n                    this.cCore.toast('æ¨æ²¡ææéï¼')\r\n                    break;\r\n                case 403:\r\n                    this.cCore.toast('æå¡å¨ç¦æ­¢è®¿é®ï¼')\r\n                    break;\r\n                case 404:\r\n                    this.cCore.toast('ç¸å³èµæºæ¾ä¸å°ï¼')\r\n                    break;\r\n                case 500:\r\n                    this.cCore.toast('æå¡å¨åºéå¦ï¼')\r\n                    break;\r\n                case 503:\r\n                    this.cCore.toast('æå¡å¨ç¦»å®¶åºèµ°å¦ï¼')\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { BaseManager } from './BaseManager';\nimport { ConfigService } from \"../config.service\";\nimport { CCore } from \"./CCore\";\n\n@Injectable()\nexport class MemberManager extends BaseManager {\n\n    constructor(public http: HttpClient,public cCore: CCore, public configService: ConfigService) {\n        super(http, cCore, configService);\n    }\n\n  login(username: string, password: string) {\n    return this.post(\"member/login\", { username: username, password: password }, true);\n  }\n\n  getCurrentMember() {\n    return this.post(\"member/getCurrentMember\", {});\n  }\n\n  getMyDepartmentMembers(code:string){\n    return this.post('member/getmydepartmentmembers', { 'code': code });\n  }\n\n  changePassword(params: any) {\n    return this.post(\"member/changePassword\", params);\n  }\n  //å·å¡å¾å°åç¨äºº\n  getBy(params){\n    return this.post('member/getby',params);\n  }\n  quickLogin(code) {\n    return this.post(\"member/quicklogin\", { code: code });\n  }\n  getMyupDepartment(memberID) {\n    return this.post('member/getmyupdepartment', { memberID: memberID });\n  }\n\n}\n"]}